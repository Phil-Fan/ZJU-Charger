# 如果使用本地启动

charger.philfan.cn {
    # API requests continue to hit FastAPI on 8000
    handle_path /api/* {
        reverse_proxy 127.0.0.1:8000
    }

    # Everything else goes to the Next.js frontend (pnpm start --port 3000)
    handle {
        reverse_proxy 127.0.0.1:3000
    }

    tls hw.phil.fan@gmail.com
}

# 如果使用 Docker

charger.philfan.cn {
    handle_path /api/* {
        reverse_proxy backend:8000
    }
    handle {
        reverse_proxy frontend:3000
    }
}
